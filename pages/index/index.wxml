<!--pages/index/index.wxml-->
<view class="container">
  <!-- хд┤щГих┐лщАЯц╖╗хКахМ║хЯЯ -->
  <view class="quick-add card">
    <view class="title">х┐лщАЯшо░х╜Х</view>
    <view class="input-area">
      <textarea 
        class="textarea" 
        placeholder="хЖЩф╕Лф╜ацГ│шо░х╜ХчЪДхЖЕхо╣..."
        value="{{inputValue}}"
        bindinput="onInput"
        auto-height
        maxlength="500"
      ></textarea>
      <view class="input-footer flex-between mt-16">
        <text class="text-small">{{inputValue.length}}/500</text>
        <view class="flex">
          <button 
            class="btn-secondary mr-16" 
            bindtap="goToAdd"
          >
            шпжч╗Жц╖╗хКа
          </button>
          <button 
            class="btn-primary" 
            bindtap="addRecord"
            disabled="{{!inputValue.trim()}}"
          >
            шо░х╜Х
          </button>
        </view>
      </view>
    </view>
  </view>

  <!-- шо░х╜ХхИЧшби -->
  <view class="records-section">
    <view class="section-header flex-between mb-24">
      <text class="subtitle">цЬАш┐Сшо░х╜Х ({{records.length}})</text>
      <text class="text-small" wx:if="{{records.length > 0}}">
        щХ┐цМЙхПпхИащЩд
      </text>
    </view>

    <!-- чй║чК╢цАБ -->
    <view class="empty-state" wx:if="{{records.length === 0}}">
      <text class="empty-icon">ЁЯУЭ</text>
      <view class="empty-text">цЪВцЧашо░х╜Хя╝Мх┐лцЭехЖЩф╕Лчммф╕АцЭбхРзя╝Б</view>
    </view>

    <!-- шо░х╜ХхИЧшби -->
    <view class="records-list" wx:else>
      <view 
        class="record-item card fade-in" 
        wx:for="{{records}}" 
        wx:key="id"
        bindtap="viewDetail"
        bindlongpress="showDeleteConfirm"
        data-id="{{item.id}}"
        data-index="{{index}}"
      >
        <view class="record-content">
          <text class="text">{{item.content}}</text>
        </view>
        <view class="record-meta flex-between mt-16">
          <text class="text-small">{{item.timeText}}</text>
          <text class="text-small" wx:if="{{item.updateTime !== item.createTime}}">
            х╖▓ч╝Цш╛С
          </text>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- хИащЩдчбошодцибцАБцбЖ -->
<view class="modal-overlay" wx:if="{{showDeleteModal}}" bindtap="hideDeleteModal">
  <view class="modal" catchtap="preventClose">
    <view class="modal-header">
      <text class="title">чбошодхИащЩд</text>
    </view>
    <view class="modal-body">
      <text class="text">чбохоЪшжБхИащЩдш┐ЩцЭбшо░х╜ХхРЧя╝ЯхИащЩдхРОцЧац│ХцБвхдНуАВ</text>
    </view>
    <view class="modal-footer flex">
      <button class="btn-secondary flex-1 mr-16" bindtap="hideDeleteModal">
        хПЦц╢И
      </button>
      <button class="btn-danger flex-1" bindtap="confirmDelete">
        хИащЩд
      </button>
    </view>
  </view>
</view> 